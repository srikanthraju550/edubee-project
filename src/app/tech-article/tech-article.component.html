<!-- <div class="row" style="z-index: 1;">
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" style=" width: 100%;">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
      <div *ngFor="let imageObj of sliderContent; let i = index;" class="carousel-item" [ngClass]="{'active' : i==0 }">
        <img class="d-block w-100 sliderImageStyle" src="../assets/images/{{imageObj.imagelink}}?auto=yes&bg=666&fg=444"
          alt="{{imageObj.sliderid}} slide">

      </div>

    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div> -->
<div class="row tech-bank-filters" style="background-color: #F4F6F5; height: 4em; ">
  <div class="col-md-4 col-sm-12 col-xs-12">
    &nbsp;
  </div>
  <div class="col-md-4 col-sm-12 col-xs-12">
    <h2 class="text-center">All Tech Articles</h2>
  </div>
  <div class="col-md-4 col-sm-12 col-xs-12">
    <button *ngIf="!checkLoginStatus()" type="button" class="buttonarticle crt-btn" data-toggle="modal"
      data-target="#createTechArticleModal" style="margin:auto;display:block;float:initial;margin-top:10px">Create Tech
      Article</button>
  </div>
</div>
<br />



<div id="techArticleFilterDiv" class="row filter-divs" *ngIf="!checkLoginStatus()">

  <div class="col-md-6">

    <input type="text" class="form-control filter-input" placeholder="Search with Name.." name="techarticledetails"
      [(ngModel)]="techArticleFilter.name" *ngIf="showKeyword" />


    <input type="text" class="form-control filter-input" placeholder="Search with Article Title.."
      name="techarticledetails" [(ngModel)]="techArticleFilter.articletitle" *ngIf="showArticle" />

    <input type="text" class="form-control filter-input" placeholder="Search with Technology.."
      name="techarticledetails" [(ngModel)]="techArticleFilter.technologyname" *ngIf="showTechnology" />

    <input type="text" class="form-control filter-input" placeholder="Search with sub Technology.."
      name="techarticledetails" [(ngModel)]="techArticleFilter.subtechname" *ngIf="showSubTech" />

    <input type="text" class="form-control filter-input" placeholder="Search with Author.." name="techarticledetails"
      [(ngModel)]="techArticleFilter.name" *ngIf="showAuthor" />

    <input type="text" class="form-control filter-input" placeholder="Search with Author.." name="techarticledetails"
      [(ngModel)]="techArticleFilter.cost" *ngIf="showCost" />

  </div>
  <div class="col-md-6">
    <div class="row m-row" style="font-size: 1rem;">
      <div class="col-4">
        <p (click)="selectKeyword()"> <span class="radio-btns">&nbsp;</span><span class="white-radio">&nbsp;</span><i
            class="fa fa-check" *ngIf="showKeyword"></i> Keyword</p>
        <!-- <input type="checkbox" class="techBankEventCheckbox" name="keywordFilter" [(ngModel)]="keywordFilter"
          value="Keyword">&nbsp;Keyword -->
      </div>
      <div class="col-4">

        <p (click)="selectType()"> <span class="radio-btns">&nbsp;</span><span class="white-radio">&nbsp;</span><i
            class="fa fa-check" *ngIf="showArticle"></i> Type</p>
        <!-- <input type="checkbox" name="articleTypeFilter" class="techBankEventCheckbox" [(ngModel)]="articleTypeFilter"
          value="Type">&nbsp;Type -->
      </div>
      <div class=" col-4">
        <p (click)="selectTechnology()"> <span class="radio-btns">&nbsp;</span><span class="white-radio">&nbsp;</span><i
            class="fa fa-check" *ngIf="showTechnology"></i>Technology</p>
        <!-- <input type="checkbox" name="techFilter" class="techBankEventCheckbox" [(ngModel)]="techFilter"
          value="Technology">&nbsp;Technology -->
      </div>
      <div class=" col-4">
        <p (click)="selectSubTechnology()"> <span class="radio-btns">&nbsp;</span><span
            class="white-radio">&nbsp;</span><i class="fa fa-check" *ngIf="showSubTech"></i>SubTechnology</p>
        <!-- <input type="checkbox" name="subTechFilter" class="techBankEventCheckbox" [(ngModel)]="subTechFilter"
          value="SubTechnology">&nbsp;SubTechnology -->
      </div>
      <div class="col-4">
        <p (click)="selectAuthor()"> <span class="radio-btns">&nbsp;</span><span class="white-radio">&nbsp;</span><i
            class="fa fa-check" *ngIf="showAuthor"></i>Author</p>
        <!-- <input type="checkbox" name="authorFilter" class="techBankEventCheckbox" [(ngModel)]="authorFilter"
          value="SubTechnology">&nbsp;Author -->
      </div>
      <div class="col-4">
        <p (click)="selectFree()"> <span class="radio-btns">&nbsp;</span><span class="white-radio">&nbsp;</span><i
            class="fa fa-check" *ngIf="showCost"></i>Free</p>
        <!-- <input type="checkbox" name="freeFilter" class="techBankEventCheckbox" [(ngModel)]="freeFilter.cost"
          value="SubTechnology">&nbsp;Free -->
      </div>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-12" style="margin-top: 1em;">
      <!-- -->
      <div class="card card-articles" style="width: 100%;"
        *ngFor="let techarticle of techarticledetails | filterBy:techArticleFilter ; let i = index; "
        [ngClass]="{'techarticleRow1' : i%2==0 }">

        <div class="card-body">
          <div class="row">
            <div class="col-md-6 tec_lft">
              <h6 class="art-type" style="color:#33099e;">{{techarticle.articletype}}</h6>

              <b>Title</b> : {{techarticle.articletitle}}
              <br />
              <b>Technology</b> : {{techarticle.technologyname}} ,
              &nbsp;&nbsp;
              <b>Sub-Technology</b> : {{techarticle.subtechname}}
              <br />
              <b *ngIf="techarticle.articletype=='Article'">Price :
                <span style="color:#255B88">{{techarticle.cost}} rs</span>
              </b><br *ngIf="techarticle.articletype=='Article'" />
              <b> Abstract </b>: {{techarticle.abstract}}


            </div>


            <div class="col-md-3 tec_mdl">

              <img class="profilepicture" *ngIf="techarticle.profilepicture!==''"
                src="../assets/images/profileImages/{{techarticle.profilepicture}}" alt="Profile Pic">
              <img class="profilepicture" *ngIf="techarticle.profilepicture==''" src="../assets/images/user-dummy.png"
                alt="Profile Pic">

              <div class="">
                <h5 class="card-title" style="color:#33099e;"><span class="title-name">
                  </span><b>{{techarticle.name}}</b>
                  <br />
                  <span style="font-size: 0.85rem;color:rgb(22, 22, 22);"> ( {{techarticle.followerCount}} followers
                    )</span>
                </h5>
                <div class="lke-dis">
                  <button *ngIf="!checkLoginStatus() && techarticle.upCount!=='0'" class="btn btn-light buttonarticle"
                    (click)="articleUpDownCountUpdate(techarticle.articleid,'UP')" style="display:inline">
                    {{techarticle.upCount}}
                    <img src="../assets/images/thumbsUp.png" alt="Card image cap" style="height:15px;">
                  </button>
                  &nbsp;&nbsp;
                  <button *ngIf="!checkLoginStatus() && techarticle.downCount!=='0'" class="btn btn-light buttonarticle"
                    (click)="articleUpDownCountUpdate(techarticle.articleid,'DOWN')" style="display:inline">
                    {{techarticle.downCount}}
                    <img src="../assets/images/thumbsDown.png" alt="Card image cap" style="height: 15px;">

                  </button>
                </div>
                <br />
              </div>
            </div>

            <div class="col-md-3 tec_ryt">

              <ul *ngIf="!checkLoginStatus()" class="nav nav-pills">

                <li class="nav-item ">
                  <button class="nav-link btn btn-light buybutton buttonarticle"
                    *ngIf="techarticle.articlepaymentindcd=='Y' && techarticle.articletype=='Article'"
                    data-toggle="modal" data-target="#buynowModal" (click)="buyNowModelClick(techarticle)">Buy
                    Now</button>
                </li>

                <li class="nav-item" style="margin-left:2%">
                  <button
                    *ngIf="!checkLoginStatus() && techarticle.isFollowed==0 && getLoggedInUserObject()['userid']!=techarticle.userid"
                    class="nav-link btn btn-light buttonarticle"
                    style=" margin-left: 0 !important; color: white !important;"
                    (click)="followerUpdate(techarticle.userId,'F');">Follow</button> </li>

                <li class="nav-item" style="margin-left:2%">
                  <button
                    *ngIf="!checkLoginStatus() && techarticle.isFollowed==1 && getLoggedInUserObject()['userid']!=techarticle.userid"
                    class="nav-link btn btn-light buttonarticle"
                    style=" margin-left: 0 !important; color: white !important;"
                    (click)="followerUpdate(techarticle.userId,'U');">Unfollow</button>
                </li>
                <li class="nav-item">
                  <button class="nav-link btn btn-light commentbutton buttonarticle" data-toggle="modal"
                    data-target="#commentsModal" (click)="showTechArticleComments(techarticle)">Comments</button>
                </li>
                <li class="nav-item">
                  <button class="nav-link btn btn-light veiwbutton buttonarticle"
                    *ngIf="techarticle.publicationlink!='' &&  techarticle.articletype =='White Paper' || techarticle.articletype =='Research Paper' "
                    data-toggle="modal" data-target="#buynowModal1"
                    (click)="viewTechTeachDetails(techarticle)">View/Download
                    full Article</button>
                </li>
              </ul>
            </div>
          </div>
          <br />
        </div>
        <div id="buynowModal1" class="modal fade" role="dialog">
          <div class="modal-dialog createarticle1">
            <div class="col-12" style="margin-top: 1em;">
              <!-- Modal content-->
              <div class="modal-content">

                <div class="modal-header" style="background-color: #33099e; text-align: center; align-items: center;">
                  <span style="text-align: center; color: white; width: 100%;">
                    <h4>Tech Article Details</h4>
                  </span>
                  <button style="float: right; color: white;" type="button" class="close" data-dismiss="modal"
                    id="closeDetailsModal">&times;</button>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-md-4 col-sm-12 col-xs-12">
                      <br />
                      <b>Article Type</b> : {{articletype}}
                      <br />
                      <b>Title</b> : {{articletitle}}
                      <br />
                      <b>Email</b> : {{emailaddress}}
                      <br />
                      <b>Contact Number</b> : {{contactnumber}}

                      <br />
                      <span *ngIf="showcost"> <b>Cost</b> : {{cost}}</span>

                    </div>
                    <div class="col-md-8 col-sm-12 col-xs-12">
                      <br />

                      <b>Engineering Technology</b> : {{technologyname}}
                      <br />
                      <b>Sub-Engineering Technology</b> : {{subtechname}}
                      <br />

                      <b>Abstract</b> : <span style="text-align:justify">{{abstract}}</span>
                      <br />
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<br />

<div id="commentsModal" class="modal fade" role="dialog">
  <div class="modal-dialog createarticle1">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header" style="background-color: #33099e; text-align: center; align-items: center;">
        <span style="text-align: center; color: white; width: 100%;">
          <h4>Article Comments</h4>
        </span>
        <button style="float: right; color: white;" type="button" class="close" data-dismiss="modal"
          id="closeCommentsModal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="card" *ngFor="let articlecomment of articlecomments; let i = index; ">
          <div class="card-body row">
            <div class="col-10">
              <b>Name</b> :
              {{articlecomment.name}}
              <br />
              <b>Comment</b> :
              <span *ngIf="getLoggedInUserObject()['userid']!=articlecomment.userid">
                {{articlecomment.comment}}</span>
              <textarea style="width: 100%;" *ngIf="getLoggedInUserObject()['userid']==articlecomment.userid"
                [(ngModel)]="articlecomment.comment" placeholder="500 Characters" maxlength="500"></textarea>
            </div>
            <div class="col-2">
              <button *ngIf="getLoggedInUserObject()['userid']==articlecomment.userid" class="btn btn-light"
                style="background-color: #9A9A9A;height: 2.5em;"
                (click)="commentOperation(selectedTecharticle.articleid, articlecomment.id, articlecomment.comment, 'U')">
                Edit
              </button>
              <button
                *ngIf="getLoggedInUserObject()['userid']==articlecomment.userid || getLoggedInUserObject()['userid']==selectedTecharticle.userId"
                class="btn btn-light" style="background-color: #9A9A9A;height: 2.5em;"
                (click)="commentOperation(selectedTecharticle.articleid, articlecomment.id, null, 'D')">
                Delete
              </button>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-body row">
            <div class="col--md-10  col-sm-12 col-xs-12">
              <textarea style="width: 100%;" [(ngModel)]="commentToBeAdded" placeholder="500 Characters"
                maxlength="500"></textarea>
            </div>
            <div class="col-md-2 col-sm-12 col-xs-12">
              <button class="btn btn-light commentbutton buttonarticle" [disabled]="commentToBeAdded==''"
                (click)="commentOperation(selectedTecharticle.articleid, null, commentToBeAdded, 'A')">
                Add Comment
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="buynowModal" class="modal fade" role="dialog">
  <div class="modal-dialog createarticle1">

    <!-- Modal content-->
    <div class="modal-content" *ngIf="selectedTecharticle!=undefined">
      <div class="modal-header" style="background-color: #33099e; text-align: center; align-items: center;">
        <span style="text-align: center; color: white; width: 100%;">
          <h4>Purchase Article</h4>
        </span>
        <button style="float: right; color: white;" type="button" class="close" data-dismiss="modal"
          id="closeBuynowModal">&times;</button>
      </div>
      <div class="modal-body">
        <h2>Kindly provide your contact details for purchase(Mail will be sent to Author)</h2>
        <!-- <div class="card">
          <div class="card-body row">
            <div class="col-10">
              <b>Author Name</b> :
              <br/>{{selectedTecharticle.name}}
              <br/>
              <b>Author Email</b> :
              <br/>{{selectedTecharticle.emailaddress}}
              <br/>
              <b>Author Contact Number</b> :
              <br/>{{selectedTecharticle.contactnumber}}
              <br/>

            </div>
            
          </div>
        </div> -->
        <div class="card">
          <div class="card-body row">
            <div class="col-10">
              <textarea style="width: 100%;" [(ngModel)]="mailContent" placeholder="500 Characters"
                maxlength="500"></textarea>
            </div>
            <div class="col-2">
              <button class="btn btn-light" [disabled]="mailContent==''"
                style="background-color: #9A9A9A;height: 2.5em;"
                (click)="sendMailToAuthorForPurchase(selectedTecharticle.articleid, mailContent)">
                Send Mail
              </button>
            </div>
          </div>
        </div>

      </div>

    </div>

  </div>
</div>